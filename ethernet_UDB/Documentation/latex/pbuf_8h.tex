\hypertarget{pbuf_8h}{}\doxysection{C\+:/\+Users/\+User\+\_\+4/\+STM32\+Cube\+IDE/workspace\+\_\+1.10.1/ethernet\+\_\+\+UDB/\+Middlewares/\+Third\+\_\+\+Party/\+Lw\+IP/src/include/lwip/pbuf.h File Reference}
\label{pbuf_8h}\index{C:/Users/User\_4/STM32CubeIDE/workspace\_1.10.1/ethernet\_UDB/Middlewares/Third\_Party/LwIP/src/include/lwip/pbuf.h@{C:/Users/User\_4/STM32CubeIDE/workspace\_1.10.1/ethernet\_UDB/Middlewares/Third\_Party/LwIP/src/include/lwip/pbuf.h}}
{\ttfamily \#include \char`\"{}lwip/opt.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}lwip/err.\+h\char`\"{}}\newline
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structpbuf}{pbuf}}
\item 
struct \mbox{\hyperlink{structpbuf__rom}{pbuf\+\_\+rom}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{pbuf_8h_a64174c5169b48dc17674324afd9c63b9}{LWIP\+\_\+\+SUPPORT\+\_\+\+CUSTOM\+\_\+\+PBUF}}~((\mbox{\hyperlink{group__lwip__opts__ipv4_gaf85c8bdd5035b6cada790b4cc2a209a4}{IP\+\_\+\+FRAG}} \&\& !\mbox{\hyperlink{group__lwip__opts__netif_gabafb9f64a80e51b56c0abbcfc1f7e04e}{LWIP\+\_\+\+NETIF\+\_\+\+TX\+\_\+\+SINGLE\+\_\+\+PBUF}}) $\vert$$\vert$ (\mbox{\hyperlink{group__lwip__opts__ipv6_ga872e3bb3fe2212156d66b18fccc9643f}{LWIP\+\_\+\+IPV6}} \&\& \mbox{\hyperlink{group__lwip__opts__ipv6_ga9ab6269f3087f6d9f7b2c7181ef043c3}{LWIP\+\_\+\+IPV6\+\_\+\+FRAG}}))
\item 
\#define \mbox{\hyperlink{group__pbuf_ga894d91d811fd986f3cc3da828fa7beb3}{PBUF\+\_\+\+NEEDS\+\_\+\+COPY}}(p)~((p)-\/$>$type\+\_\+internal \& \mbox{\hyperlink{pbuf_8h_a02789ca67766def65000b58f7fe7d03b}{PBUF\+\_\+\+TYPE\+\_\+\+FLAG\+\_\+\+DATA\+\_\+\+VOLATILE}})
\item 
\mbox{\Hypertarget{pbuf_8h_af9da2e1ca60dc0c584938ccc5d662307}\label{pbuf_8h_af9da2e1ca60dc0c584938ccc5d662307}} 
\#define {\bfseries PBUF\+\_\+\+TRANSPORT\+\_\+\+HLEN}~20
\item 
\mbox{\Hypertarget{pbuf_8h_aae0fea237167bb06ea4dc5333df5b0a7}\label{pbuf_8h_aae0fea237167bb06ea4dc5333df5b0a7}} 
\#define {\bfseries PBUF\+\_\+\+IP\+\_\+\+HLEN}~20
\item 
\#define \mbox{\hyperlink{pbuf_8h_a49ab2c0662378f268ed8209bd54aaedf}{PBUF\+\_\+\+TYPE\+\_\+\+FLAG\+\_\+\+STRUCT\+\_\+\+DATA\+\_\+\+CONTIGUOUS}}~0x80
\item 
\#define \mbox{\hyperlink{pbuf_8h_a02789ca67766def65000b58f7fe7d03b}{PBUF\+\_\+\+TYPE\+\_\+\+FLAG\+\_\+\+DATA\+\_\+\+VOLATILE}}~0x40
\item 
\#define \mbox{\hyperlink{pbuf_8h_a97d4db8e0f127f61af0016c184c865ca}{PBUF\+\_\+\+TYPE\+\_\+\+ALLOC\+\_\+\+SRC\+\_\+\+MASK}}~0x0F
\item 
\#define \mbox{\hyperlink{pbuf_8h_a567a0dfa01b0e5540f9416a200ed163f}{PBUF\+\_\+\+ALLOC\+\_\+\+FLAG\+\_\+\+RX}}~0x0100
\item 
\#define \mbox{\hyperlink{pbuf_8h_a426883d928f8f3e8fd066e616159d78f}{PBUF\+\_\+\+ALLOC\+\_\+\+FLAG\+\_\+\+DATA\+\_\+\+CONTIGUOUS}}~0x0200
\item 
\mbox{\Hypertarget{pbuf_8h_a97fd2702bcb96ba86bfbf8dd5d27d171}\label{pbuf_8h_a97fd2702bcb96ba86bfbf8dd5d27d171}} 
\#define {\bfseries PBUF\+\_\+\+TYPE\+\_\+\+ALLOC\+\_\+\+SRC\+\_\+\+MASK\+\_\+\+STD\+\_\+\+HEAP}~0x00
\item 
\mbox{\Hypertarget{pbuf_8h_a386484cc9e05233b93fab1a822480a5d}\label{pbuf_8h_a386484cc9e05233b93fab1a822480a5d}} 
\#define {\bfseries PBUF\+\_\+\+TYPE\+\_\+\+ALLOC\+\_\+\+SRC\+\_\+\+MASK\+\_\+\+STD\+\_\+\+MEMP\+\_\+\+PBUF}~0x01
\item 
\mbox{\Hypertarget{pbuf_8h_a1f6e2a84d405938f7a0aab7dea72d549}\label{pbuf_8h_a1f6e2a84d405938f7a0aab7dea72d549}} 
\#define {\bfseries PBUF\+\_\+\+TYPE\+\_\+\+ALLOC\+\_\+\+SRC\+\_\+\+MASK\+\_\+\+STD\+\_\+\+MEMP\+\_\+\+PBUF\+\_\+\+POOL}~0x02
\item 
\#define \mbox{\hyperlink{pbuf_8h_aa1f62ba9dc5d462e67e33c4be64c601a}{PBUF\+\_\+\+TYPE\+\_\+\+ALLOC\+\_\+\+SRC\+\_\+\+MASK\+\_\+\+APP\+\_\+\+MIN}}~0x03
\item 
\#define \mbox{\hyperlink{pbuf_8h_aad686ef346759a221abdb45f64649816}{PBUF\+\_\+\+TYPE\+\_\+\+ALLOC\+\_\+\+SRC\+\_\+\+MASK\+\_\+\+APP\+\_\+\+MAX}}~\mbox{\hyperlink{pbuf_8h_a97d4db8e0f127f61af0016c184c865ca}{PBUF\+\_\+\+TYPE\+\_\+\+ALLOC\+\_\+\+SRC\+\_\+\+MASK}}
\item 
\#define \mbox{\hyperlink{pbuf_8h_a018a6499e357f8a1373321f802a82930}{PBUF\+\_\+\+FLAG\+\_\+\+PUSH}}~0x01U
\item 
\#define \mbox{\hyperlink{pbuf_8h_af78a7e1815dc0e31884d095b666d997f}{PBUF\+\_\+\+FLAG\+\_\+\+IS\+\_\+\+CUSTOM}}~0x02U
\item 
\#define \mbox{\hyperlink{pbuf_8h_ab8ad153151a8c157335d9c0cedc007e6}{PBUF\+\_\+\+FLAG\+\_\+\+MCASTLOOP}}~0x04U
\item 
\#define \mbox{\hyperlink{pbuf_8h_a6772c16662bbb78597399add086500c0}{PBUF\+\_\+\+FLAG\+\_\+\+LLBCAST}}~0x08U
\item 
\#define \mbox{\hyperlink{pbuf_8h_ac0d56cde47aca24ef410d730d7c89887}{PBUF\+\_\+\+FLAG\+\_\+\+LLMCAST}}~0x10U
\item 
\#define \mbox{\hyperlink{pbuf_8h_a36a915aa2f6a188baa2862881407971e}{PBUF\+\_\+\+FLAG\+\_\+\+TCP\+\_\+\+FIN}}~0x20U
\item 
\#define \mbox{\hyperlink{pbuf_8h_ac54b0f161128a32c7419c33b893a5106}{PBUF\+\_\+\+POOL\+\_\+\+FREE\+\_\+\+OOSEQ}}~1
\item 
\mbox{\Hypertarget{pbuf_8h_a1f31e5e7b39e90b9b52654f543bb8fc5}\label{pbuf_8h_a1f31e5e7b39e90b9b52654f543bb8fc5}} 
\#define {\bfseries PBUF\+\_\+\+CHECK\+\_\+\+FREE\+\_\+\+OOSEQ}()
\item 
\mbox{\Hypertarget{pbuf_8h_a0c9b6a35471ebe1628ffe74bbc67f0b4}\label{pbuf_8h_a0c9b6a35471ebe1628ffe74bbc67f0b4}} 
\#define {\bfseries pbuf\+\_\+init}()
\item 
\mbox{\Hypertarget{pbuf_8h_a6221e7a8976b2371e1b1bb343f1ba38e}\label{pbuf_8h_a6221e7a8976b2371e1b1bb343f1ba38e}} 
\#define {\bfseries pbuf\+\_\+get\+\_\+allocsrc}(p)~((p)-\/$>$type\+\_\+internal \& \mbox{\hyperlink{pbuf_8h_a97d4db8e0f127f61af0016c184c865ca}{PBUF\+\_\+\+TYPE\+\_\+\+ALLOC\+\_\+\+SRC\+\_\+\+MASK}})
\item 
\mbox{\Hypertarget{pbuf_8h_a863c41137240f4ceeec12218ffd3a4ee}\label{pbuf_8h_a863c41137240f4ceeec12218ffd3a4ee}} 
\#define {\bfseries pbuf\+\_\+match\+\_\+allocsrc}(p,  type)~(pbuf\+\_\+get\+\_\+allocsrc(p) == ((type) \& \mbox{\hyperlink{pbuf_8h_a97d4db8e0f127f61af0016c184c865ca}{PBUF\+\_\+\+TYPE\+\_\+\+ALLOC\+\_\+\+SRC\+\_\+\+MASK}}))
\item 
\mbox{\Hypertarget{pbuf_8h_a790373b7fddfcc052344dc5134ef91d3}\label{pbuf_8h_a790373b7fddfcc052344dc5134ef91d3}} 
\#define {\bfseries pbuf\+\_\+match\+\_\+type}(p,  type)~pbuf\+\_\+match\+\_\+allocsrc(p, type)
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{group__pbuf_gaee1baa59bb2f85ba575b5a8619ac1ebf}{pbuf\+\_\+layer}} \{ \newline
\mbox{\hyperlink{group__pbuf_ggaee1baa59bb2f85ba575b5a8619ac1ebfa2ded3594a3977f8bf9cf09552be327b5}{PBUF\+\_\+\+TRANSPORT}} = PBUF\+\_\+\+LINK\+\_\+\+ENCAPSULATION\+\_\+\+HLEN + PBUF\+\_\+\+LINK\+\_\+\+HLEN + PBUF\+\_\+\+IP\+\_\+\+HLEN + PBUF\+\_\+\+TRANSPORT\+\_\+\+HLEN
, \mbox{\hyperlink{group__pbuf_ggaee1baa59bb2f85ba575b5a8619ac1ebfafcc1e506061ba69dfa142eb6b3da5f13}{PBUF\+\_\+\+IP}} = PBUF\+\_\+\+LINK\+\_\+\+ENCAPSULATION\+\_\+\+HLEN + PBUF\+\_\+\+LINK\+\_\+\+HLEN + PBUF\+\_\+\+IP\+\_\+\+HLEN
, \mbox{\hyperlink{group__pbuf_ggaee1baa59bb2f85ba575b5a8619ac1ebfab4de441e737330558b609a990cd17346}{PBUF\+\_\+\+LINK}} = PBUF\+\_\+\+LINK\+\_\+\+ENCAPSULATION\+\_\+\+HLEN + PBUF\+\_\+\+LINK\+\_\+\+HLEN
, \mbox{\hyperlink{group__pbuf_ggaee1baa59bb2f85ba575b5a8619ac1ebfa0ff039585f05f9208bcb66c2d37783e2}{PBUF\+\_\+\+RAW\+\_\+\+TX}} = PBUF\+\_\+\+LINK\+\_\+\+ENCAPSULATION\+\_\+\+HLEN
, \newline
\mbox{\hyperlink{group__pbuf_ggaee1baa59bb2f85ba575b5a8619ac1ebfa21116654fbab6d5a4dfeb87a1bb8f0ba}{PBUF\+\_\+\+RAW}} = 0
 \}
\item 
enum \mbox{\hyperlink{group__pbuf_gab7e0e32fcc292c0d7107721766ed92fb}{pbuf\+\_\+type}} \{ \mbox{\hyperlink{group__pbuf_ggab7e0e32fcc292c0d7107721766ed92fbac5e9f28455bca98944a030d4b84ecfab}{PBUF\+\_\+\+RAM}} = (PBUF\+\_\+\+ALLOC\+\_\+\+FLAG\+\_\+\+DATA\+\_\+\+CONTIGUOUS $\vert$ PBUF\+\_\+\+TYPE\+\_\+\+FLAG\+\_\+\+STRUCT\+\_\+\+DATA\+\_\+\+CONTIGUOUS $\vert$ PBUF\+\_\+\+TYPE\+\_\+\+ALLOC\+\_\+\+SRC\+\_\+\+MASK\+\_\+\+STD\+\_\+\+HEAP)
, \mbox{\hyperlink{group__pbuf_ggab7e0e32fcc292c0d7107721766ed92fbac120b0fe39efe35bb682e4aa3b82e2c9}{PBUF\+\_\+\+ROM}} = PBUF\+\_\+\+TYPE\+\_\+\+ALLOC\+\_\+\+SRC\+\_\+\+MASK\+\_\+\+STD\+\_\+\+MEMP\+\_\+\+PBUF
, \mbox{\hyperlink{group__pbuf_ggab7e0e32fcc292c0d7107721766ed92fbac9b6ba960fdea6f2e8f35c8313b77e4e}{PBUF\+\_\+\+REF}} = (PBUF\+\_\+\+TYPE\+\_\+\+FLAG\+\_\+\+DATA\+\_\+\+VOLATILE $\vert$ PBUF\+\_\+\+TYPE\+\_\+\+ALLOC\+\_\+\+SRC\+\_\+\+MASK\+\_\+\+STD\+\_\+\+MEMP\+\_\+\+PBUF)
, \mbox{\hyperlink{group__pbuf_ggab7e0e32fcc292c0d7107721766ed92fbae969347127387b9b59a23ccd24b76d21}{PBUF\+\_\+\+POOL}} = (PBUF\+\_\+\+ALLOC\+\_\+\+FLAG\+\_\+\+RX $\vert$ PBUF\+\_\+\+TYPE\+\_\+\+FLAG\+\_\+\+STRUCT\+\_\+\+DATA\+\_\+\+CONTIGUOUS $\vert$ PBUF\+\_\+\+TYPE\+\_\+\+ALLOC\+\_\+\+SRC\+\_\+\+MASK\+\_\+\+STD\+\_\+\+MEMP\+\_\+\+PBUF\+\_\+\+POOL)
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$ \mbox{\hyperlink{group__pbuf_ga8bb9c5d54a06995b1c67ce695ead9969}{pbuf\+\_\+alloc}} (\mbox{\hyperlink{group__pbuf_gaee1baa59bb2f85ba575b5a8619ac1ebf}{pbuf\+\_\+layer}} l, u16\+\_\+t length, \mbox{\hyperlink{group__pbuf_gab7e0e32fcc292c0d7107721766ed92fb}{pbuf\+\_\+type}} type)
\item 
struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$ \mbox{\hyperlink{group__pbuf_ga6cff29c18a60a7f2828457fa61e3accb}{pbuf\+\_\+alloc\+\_\+reference}} (void $\ast$payload, u16\+\_\+t length, \mbox{\hyperlink{group__pbuf_gab7e0e32fcc292c0d7107721766ed92fb}{pbuf\+\_\+type}} type)
\item 
void \mbox{\hyperlink{group__pbuf_ga50abfe830a33a1a47a562febee66015d}{pbuf\+\_\+realloc}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p, u16\+\_\+t size)
\item 
u8\+\_\+t \mbox{\hyperlink{pbuf_8h_aaa17c1951cf2d207b6adfd3947d91f00}{pbuf\+\_\+header}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p, s16\+\_\+t header\+\_\+size)
\item 
u8\+\_\+t \mbox{\hyperlink{pbuf_8h_a27480c41c34021d4417691d327163626}{pbuf\+\_\+header\+\_\+force}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p, s16\+\_\+t header\+\_\+size)
\item 
u8\+\_\+t \mbox{\hyperlink{pbuf_8h_a32dc14bd88dcafa25e627ab18e801815}{pbuf\+\_\+add\+\_\+header}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p, size\+\_\+t header\+\_\+size\+\_\+increment)
\item 
u8\+\_\+t \mbox{\hyperlink{pbuf_8h_ad4ef8c5fbbd1447db04f8f73923e7dee}{pbuf\+\_\+add\+\_\+header\+\_\+force}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p, size\+\_\+t header\+\_\+size\+\_\+increment)
\item 
u8\+\_\+t \mbox{\hyperlink{pbuf_8h_ab65da7cd8f7449b3b2e57d7fa1a74ef4}{pbuf\+\_\+remove\+\_\+header}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p, size\+\_\+t header\+\_\+size)
\item 
struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$ \mbox{\hyperlink{pbuf_8h_ab0a834127db093fcb6ffc48d966de318}{pbuf\+\_\+free\+\_\+header}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$q, u16\+\_\+t size)
\item 
void \mbox{\hyperlink{group__pbuf_ga77f6bbd69e45e542014d9c547c7da74e}{pbuf\+\_\+ref}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p)
\item 
u8\+\_\+t \mbox{\hyperlink{group__pbuf_gab0dd696fb4b6bc65e548944584f1738b}{pbuf\+\_\+free}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p)
\item 
u16\+\_\+t \mbox{\hyperlink{pbuf_8h_a5df7ac5ae59012fe9aeddba375a72190}{pbuf\+\_\+clen}} (const struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p)
\item 
void \mbox{\hyperlink{group__pbuf_ga82429084fe29015509c9b4a072707cd4}{pbuf\+\_\+cat}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$head, struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$tail)
\item 
void \mbox{\hyperlink{group__pbuf_ga831c9a72bda1d3bd4c7b96f5a0e3b891}{pbuf\+\_\+chain}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$head, struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$tail)
\item 
struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$ \mbox{\hyperlink{pbuf_8h_ace8aac12c3ebe16262c2202bd5eb02ab}{pbuf\+\_\+dechain}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p)
\item 
\mbox{\hyperlink{group__infrastructure__errors_gaf02d9da80fd66b4f986d2c53d7231ddb}{err\+\_\+t}} \mbox{\hyperlink{group__pbuf_gaba88511dee3df4b631fde691f421320d}{pbuf\+\_\+copy}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p\+\_\+to, const struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p\+\_\+from)
\item 
u16\+\_\+t \mbox{\hyperlink{group__pbuf_gac2f1f58fd36042e82af46f5015720899}{pbuf\+\_\+copy\+\_\+partial}} (const struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p, void $\ast$dataptr, u16\+\_\+t len, u16\+\_\+t offset)
\item 
void $\ast$ \mbox{\hyperlink{group__pbuf_ga6da6c83929df1b736b107e89faa8a8a2}{pbuf\+\_\+get\+\_\+contiguous}} (const struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p, void $\ast$buffer, size\+\_\+t bufsize, u16\+\_\+t len, u16\+\_\+t offset)
\item 
\mbox{\hyperlink{group__infrastructure__errors_gaf02d9da80fd66b4f986d2c53d7231ddb}{err\+\_\+t}} \mbox{\hyperlink{group__pbuf_gad1e31e370271335b197272af2724ca85}{pbuf\+\_\+take}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$buf, const void $\ast$dataptr, u16\+\_\+t len)
\item 
\mbox{\hyperlink{group__infrastructure__errors_gaf02d9da80fd66b4f986d2c53d7231ddb}{err\+\_\+t}} \mbox{\hyperlink{group__pbuf_gae1cf2bf7454ff87ff377b0b2262f9b44}{pbuf\+\_\+take\+\_\+at}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$buf, const void $\ast$dataptr, u16\+\_\+t len, u16\+\_\+t offset)
\item 
struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$ \mbox{\hyperlink{group__pbuf_gabe4dfb2409c87a7c52c9a22a779f92e9}{pbuf\+\_\+skip}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$in, u16\+\_\+t in\+\_\+offset, u16\+\_\+t $\ast$out\+\_\+offset)
\item 
struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$ \mbox{\hyperlink{group__pbuf_ga031469589fa95ece3bf1c136d1509eac}{pbuf\+\_\+coalesce}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p, \mbox{\hyperlink{group__pbuf_gaee1baa59bb2f85ba575b5a8619ac1ebf}{pbuf\+\_\+layer}} layer)
\item 
struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$ \mbox{\hyperlink{group__pbuf_gac6842a5d8268606f9608bae15d652a22}{pbuf\+\_\+clone}} (\mbox{\hyperlink{group__pbuf_gaee1baa59bb2f85ba575b5a8619ac1ebf}{pbuf\+\_\+layer}} l, \mbox{\hyperlink{group__pbuf_gab7e0e32fcc292c0d7107721766ed92fb}{pbuf\+\_\+type}} type, struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p)
\item 
u8\+\_\+t \mbox{\hyperlink{group__pbuf_ga6d803d9945bffb7ad97743f2fa503da6}{pbuf\+\_\+get\+\_\+at}} (const struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p, u16\+\_\+t offset)
\item 
int \mbox{\hyperlink{group__pbuf_ga839f342803b0cf89049744124c5a98ad}{pbuf\+\_\+try\+\_\+get\+\_\+at}} (const struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p, u16\+\_\+t offset)
\item 
void \mbox{\hyperlink{group__pbuf_gaf76863707dc02993eae116574b1ea03f}{pbuf\+\_\+put\+\_\+at}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p, u16\+\_\+t offset, u8\+\_\+t data)
\item 
u16\+\_\+t \mbox{\hyperlink{group__pbuf_ga2170ccbbb13238380dbb203ee1b85974}{pbuf\+\_\+memcmp}} (const struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p, u16\+\_\+t offset, const void $\ast$s2, u16\+\_\+t n)
\item 
u16\+\_\+t \mbox{\hyperlink{group__pbuf_ga18c164a6e4a24d89ea9eb7571a886448}{pbuf\+\_\+memfind}} (const struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p, const void $\ast$\mbox{\hyperlink{structmem}{mem}}, u16\+\_\+t mem\+\_\+len, u16\+\_\+t start\+\_\+offset)
\item 
u16\+\_\+t \mbox{\hyperlink{pbuf_8h_a9ba3f7b705309ceadb147692fd5a1c7d}{pbuf\+\_\+strstr}} (const struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p, const char $\ast$substr)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
pbuf API 

\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{pbuf_8h_a64174c5169b48dc17674324afd9c63b9}\label{pbuf_8h_a64174c5169b48dc17674324afd9c63b9}} 
\index{pbuf.h@{pbuf.h}!LWIP\_SUPPORT\_CUSTOM\_PBUF@{LWIP\_SUPPORT\_CUSTOM\_PBUF}}
\index{LWIP\_SUPPORT\_CUSTOM\_PBUF@{LWIP\_SUPPORT\_CUSTOM\_PBUF}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{LWIP\_SUPPORT\_CUSTOM\_PBUF}{LWIP\_SUPPORT\_CUSTOM\_PBUF}}
{\footnotesize\ttfamily \#define LWIP\+\_\+\+SUPPORT\+\_\+\+CUSTOM\+\_\+\+PBUF~((\mbox{\hyperlink{group__lwip__opts__ipv4_gaf85c8bdd5035b6cada790b4cc2a209a4}{IP\+\_\+\+FRAG}} \&\& !\mbox{\hyperlink{group__lwip__opts__netif_gabafb9f64a80e51b56c0abbcfc1f7e04e}{LWIP\+\_\+\+NETIF\+\_\+\+TX\+\_\+\+SINGLE\+\_\+\+PBUF}}) $\vert$$\vert$ (\mbox{\hyperlink{group__lwip__opts__ipv6_ga872e3bb3fe2212156d66b18fccc9643f}{LWIP\+\_\+\+IPV6}} \&\& \mbox{\hyperlink{group__lwip__opts__ipv6_ga9ab6269f3087f6d9f7b2c7181ef043c3}{LWIP\+\_\+\+IPV6\+\_\+\+FRAG}}))}

LWIP\+\_\+\+SUPPORT\+\_\+\+CUSTOM\+\_\+\+PBUF==1\+: Custom pbufs behave much like their pbuf type but they are allocated by external code (initialised by calling pbuf\+\_\+alloced\+\_\+custom()) and when pbuf\+\_\+free gives up their last reference, they are freed by calling pbuf\+\_\+custom-\/\texorpdfstring{$>$}{>}custom\+\_\+free\+\_\+function(). Currently, the pbuf\+\_\+custom code is only needed for one specific configuration of IP\+\_\+\+FRAG, unless required by external driver/application code. \mbox{\Hypertarget{pbuf_8h_a426883d928f8f3e8fd066e616159d78f}\label{pbuf_8h_a426883d928f8f3e8fd066e616159d78f}} 
\index{pbuf.h@{pbuf.h}!PBUF\_ALLOC\_FLAG\_DATA\_CONTIGUOUS@{PBUF\_ALLOC\_FLAG\_DATA\_CONTIGUOUS}}
\index{PBUF\_ALLOC\_FLAG\_DATA\_CONTIGUOUS@{PBUF\_ALLOC\_FLAG\_DATA\_CONTIGUOUS}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{PBUF\_ALLOC\_FLAG\_DATA\_CONTIGUOUS}{PBUF\_ALLOC\_FLAG\_DATA\_CONTIGUOUS}}
{\footnotesize\ttfamily \#define PBUF\+\_\+\+ALLOC\+\_\+\+FLAG\+\_\+\+DATA\+\_\+\+CONTIGUOUS~0x0200}

Indicates the application needs the pbuf payload to be in one piece \mbox{\Hypertarget{pbuf_8h_a567a0dfa01b0e5540f9416a200ed163f}\label{pbuf_8h_a567a0dfa01b0e5540f9416a200ed163f}} 
\index{pbuf.h@{pbuf.h}!PBUF\_ALLOC\_FLAG\_RX@{PBUF\_ALLOC\_FLAG\_RX}}
\index{PBUF\_ALLOC\_FLAG\_RX@{PBUF\_ALLOC\_FLAG\_RX}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{PBUF\_ALLOC\_FLAG\_RX}{PBUF\_ALLOC\_FLAG\_RX}}
{\footnotesize\ttfamily \#define PBUF\+\_\+\+ALLOC\+\_\+\+FLAG\+\_\+\+RX~0x0100}

Indicates this pbuf is used for RX (if not set, indicates use for TX). This information can be used to keep some spare RX buffers e.\+g. for receiving TCP ACKs to unblock a connection) \mbox{\Hypertarget{pbuf_8h_af78a7e1815dc0e31884d095b666d997f}\label{pbuf_8h_af78a7e1815dc0e31884d095b666d997f}} 
\index{pbuf.h@{pbuf.h}!PBUF\_FLAG\_IS\_CUSTOM@{PBUF\_FLAG\_IS\_CUSTOM}}
\index{PBUF\_FLAG\_IS\_CUSTOM@{PBUF\_FLAG\_IS\_CUSTOM}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{PBUF\_FLAG\_IS\_CUSTOM}{PBUF\_FLAG\_IS\_CUSTOM}}
{\footnotesize\ttfamily \#define PBUF\+\_\+\+FLAG\+\_\+\+IS\+\_\+\+CUSTOM~0x02U}

indicates this is a custom pbuf\+: pbuf\+\_\+free calls pbuf\+\_\+custom-\/\texorpdfstring{$>$}{>}custom\+\_\+free\+\_\+function() when the last reference is released (plus custom PBUF\+\_\+\+RAM cannot be trimmed) \mbox{\Hypertarget{pbuf_8h_a6772c16662bbb78597399add086500c0}\label{pbuf_8h_a6772c16662bbb78597399add086500c0}} 
\index{pbuf.h@{pbuf.h}!PBUF\_FLAG\_LLBCAST@{PBUF\_FLAG\_LLBCAST}}
\index{PBUF\_FLAG\_LLBCAST@{PBUF\_FLAG\_LLBCAST}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{PBUF\_FLAG\_LLBCAST}{PBUF\_FLAG\_LLBCAST}}
{\footnotesize\ttfamily \#define PBUF\+\_\+\+FLAG\+\_\+\+LLBCAST~0x08U}

indicates this pbuf was received as link-\/level broadcast \mbox{\Hypertarget{pbuf_8h_ac0d56cde47aca24ef410d730d7c89887}\label{pbuf_8h_ac0d56cde47aca24ef410d730d7c89887}} 
\index{pbuf.h@{pbuf.h}!PBUF\_FLAG\_LLMCAST@{PBUF\_FLAG\_LLMCAST}}
\index{PBUF\_FLAG\_LLMCAST@{PBUF\_FLAG\_LLMCAST}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{PBUF\_FLAG\_LLMCAST}{PBUF\_FLAG\_LLMCAST}}
{\footnotesize\ttfamily \#define PBUF\+\_\+\+FLAG\+\_\+\+LLMCAST~0x10U}

indicates this pbuf was received as link-\/level multicast \mbox{\Hypertarget{pbuf_8h_ab8ad153151a8c157335d9c0cedc007e6}\label{pbuf_8h_ab8ad153151a8c157335d9c0cedc007e6}} 
\index{pbuf.h@{pbuf.h}!PBUF\_FLAG\_MCASTLOOP@{PBUF\_FLAG\_MCASTLOOP}}
\index{PBUF\_FLAG\_MCASTLOOP@{PBUF\_FLAG\_MCASTLOOP}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{PBUF\_FLAG\_MCASTLOOP}{PBUF\_FLAG\_MCASTLOOP}}
{\footnotesize\ttfamily \#define PBUF\+\_\+\+FLAG\+\_\+\+MCASTLOOP~0x04U}

indicates this pbuf is UDP multicast to be looped back \mbox{\Hypertarget{pbuf_8h_a018a6499e357f8a1373321f802a82930}\label{pbuf_8h_a018a6499e357f8a1373321f802a82930}} 
\index{pbuf.h@{pbuf.h}!PBUF\_FLAG\_PUSH@{PBUF\_FLAG\_PUSH}}
\index{PBUF\_FLAG\_PUSH@{PBUF\_FLAG\_PUSH}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{PBUF\_FLAG\_PUSH}{PBUF\_FLAG\_PUSH}}
{\footnotesize\ttfamily \#define PBUF\+\_\+\+FLAG\+\_\+\+PUSH~0x01U}

indicates this packet\textquotesingle{}s data should be immediately passed to the application \mbox{\Hypertarget{pbuf_8h_a36a915aa2f6a188baa2862881407971e}\label{pbuf_8h_a36a915aa2f6a188baa2862881407971e}} 
\index{pbuf.h@{pbuf.h}!PBUF\_FLAG\_TCP\_FIN@{PBUF\_FLAG\_TCP\_FIN}}
\index{PBUF\_FLAG\_TCP\_FIN@{PBUF\_FLAG\_TCP\_FIN}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{PBUF\_FLAG\_TCP\_FIN}{PBUF\_FLAG\_TCP\_FIN}}
{\footnotesize\ttfamily \#define PBUF\+\_\+\+FLAG\+\_\+\+TCP\+\_\+\+FIN~0x20U}

indicates this pbuf includes a TCP FIN flag \mbox{\Hypertarget{pbuf_8h_ac54b0f161128a32c7419c33b893a5106}\label{pbuf_8h_ac54b0f161128a32c7419c33b893a5106}} 
\index{pbuf.h@{pbuf.h}!PBUF\_POOL\_FREE\_OOSEQ@{PBUF\_POOL\_FREE\_OOSEQ}}
\index{PBUF\_POOL\_FREE\_OOSEQ@{PBUF\_POOL\_FREE\_OOSEQ}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{PBUF\_POOL\_FREE\_OOSEQ}{PBUF\_POOL\_FREE\_OOSEQ}}
{\footnotesize\ttfamily \#define PBUF\+\_\+\+POOL\+\_\+\+FREE\+\_\+\+OOSEQ~1}

Define this to 0 to prevent freeing ooseq pbufs when the PBUF\+\_\+\+POOL is empty \mbox{\Hypertarget{pbuf_8h_a97d4db8e0f127f61af0016c184c865ca}\label{pbuf_8h_a97d4db8e0f127f61af0016c184c865ca}} 
\index{pbuf.h@{pbuf.h}!PBUF\_TYPE\_ALLOC\_SRC\_MASK@{PBUF\_TYPE\_ALLOC\_SRC\_MASK}}
\index{PBUF\_TYPE\_ALLOC\_SRC\_MASK@{PBUF\_TYPE\_ALLOC\_SRC\_MASK}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{PBUF\_TYPE\_ALLOC\_SRC\_MASK}{PBUF\_TYPE\_ALLOC\_SRC\_MASK}}
{\footnotesize\ttfamily \#define PBUF\+\_\+\+TYPE\+\_\+\+ALLOC\+\_\+\+SRC\+\_\+\+MASK~0x0F}

4 bits are reserved for 16 allocation sources (e.\+g. heap, pool1, pool2, etc) Internally, we use\+: 0=heap, 1=MEMP\+\_\+\+PBUF, 2=MEMP\+\_\+\+PBUF\+\_\+\+POOL -\/\texorpdfstring{$>$}{>} 13 types free \mbox{\Hypertarget{pbuf_8h_aad686ef346759a221abdb45f64649816}\label{pbuf_8h_aad686ef346759a221abdb45f64649816}} 
\index{pbuf.h@{pbuf.h}!PBUF\_TYPE\_ALLOC\_SRC\_MASK\_APP\_MAX@{PBUF\_TYPE\_ALLOC\_SRC\_MASK\_APP\_MAX}}
\index{PBUF\_TYPE\_ALLOC\_SRC\_MASK\_APP\_MAX@{PBUF\_TYPE\_ALLOC\_SRC\_MASK\_APP\_MAX}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{PBUF\_TYPE\_ALLOC\_SRC\_MASK\_APP\_MAX}{PBUF\_TYPE\_ALLOC\_SRC\_MASK\_APP\_MAX}}
{\footnotesize\ttfamily \#define PBUF\+\_\+\+TYPE\+\_\+\+ALLOC\+\_\+\+SRC\+\_\+\+MASK\+\_\+\+APP\+\_\+\+MAX~\mbox{\hyperlink{pbuf_8h_a97d4db8e0f127f61af0016c184c865ca}{PBUF\+\_\+\+TYPE\+\_\+\+ALLOC\+\_\+\+SRC\+\_\+\+MASK}}}

Last pbuf allocation type for applications \mbox{\Hypertarget{pbuf_8h_aa1f62ba9dc5d462e67e33c4be64c601a}\label{pbuf_8h_aa1f62ba9dc5d462e67e33c4be64c601a}} 
\index{pbuf.h@{pbuf.h}!PBUF\_TYPE\_ALLOC\_SRC\_MASK\_APP\_MIN@{PBUF\_TYPE\_ALLOC\_SRC\_MASK\_APP\_MIN}}
\index{PBUF\_TYPE\_ALLOC\_SRC\_MASK\_APP\_MIN@{PBUF\_TYPE\_ALLOC\_SRC\_MASK\_APP\_MIN}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{PBUF\_TYPE\_ALLOC\_SRC\_MASK\_APP\_MIN}{PBUF\_TYPE\_ALLOC\_SRC\_MASK\_APP\_MIN}}
{\footnotesize\ttfamily \#define PBUF\+\_\+\+TYPE\+\_\+\+ALLOC\+\_\+\+SRC\+\_\+\+MASK\+\_\+\+APP\+\_\+\+MIN~0x03}

First pbuf allocation type for applications \mbox{\Hypertarget{pbuf_8h_a02789ca67766def65000b58f7fe7d03b}\label{pbuf_8h_a02789ca67766def65000b58f7fe7d03b}} 
\index{pbuf.h@{pbuf.h}!PBUF\_TYPE\_FLAG\_DATA\_VOLATILE@{PBUF\_TYPE\_FLAG\_DATA\_VOLATILE}}
\index{PBUF\_TYPE\_FLAG\_DATA\_VOLATILE@{PBUF\_TYPE\_FLAG\_DATA\_VOLATILE}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{PBUF\_TYPE\_FLAG\_DATA\_VOLATILE}{PBUF\_TYPE\_FLAG\_DATA\_VOLATILE}}
{\footnotesize\ttfamily \#define PBUF\+\_\+\+TYPE\+\_\+\+FLAG\+\_\+\+DATA\+\_\+\+VOLATILE~0x40}

Indicates the data stored in this pbuf can change. If this pbuf needs to be queued, it must be copied/duplicated. \mbox{\Hypertarget{pbuf_8h_a49ab2c0662378f268ed8209bd54aaedf}\label{pbuf_8h_a49ab2c0662378f268ed8209bd54aaedf}} 
\index{pbuf.h@{pbuf.h}!PBUF\_TYPE\_FLAG\_STRUCT\_DATA\_CONTIGUOUS@{PBUF\_TYPE\_FLAG\_STRUCT\_DATA\_CONTIGUOUS}}
\index{PBUF\_TYPE\_FLAG\_STRUCT\_DATA\_CONTIGUOUS@{PBUF\_TYPE\_FLAG\_STRUCT\_DATA\_CONTIGUOUS}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{PBUF\_TYPE\_FLAG\_STRUCT\_DATA\_CONTIGUOUS}{PBUF\_TYPE\_FLAG\_STRUCT\_DATA\_CONTIGUOUS}}
{\footnotesize\ttfamily \#define PBUF\+\_\+\+TYPE\+\_\+\+FLAG\+\_\+\+STRUCT\+\_\+\+DATA\+\_\+\+CONTIGUOUS~0x80}

Indicates that the payload directly follows the struct pbuf. This makes \mbox{\hyperlink{pbuf_8c_a0f81deff4a0e6e8e0ff161a7b9871449}{pbuf\+\_\+header}} work in both directions. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{pbuf_8h_a32dc14bd88dcafa25e627ab18e801815}\label{pbuf_8h_a32dc14bd88dcafa25e627ab18e801815}} 
\index{pbuf.h@{pbuf.h}!pbuf\_add\_header@{pbuf\_add\_header}}
\index{pbuf\_add\_header@{pbuf\_add\_header}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{pbuf\_add\_header()}{pbuf\_add\_header()}}
{\footnotesize\ttfamily u8\+\_\+t pbuf\+\_\+add\+\_\+header (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$}]{p,  }\item[{size\+\_\+t}]{header\+\_\+size\+\_\+increment }\end{DoxyParamCaption})}

Adjusts the payload pointer to reveal headers in the payload.

Adjusts the -\/\texorpdfstring{$>$}{>}payload pointer so that space for a header appears in the pbuf payload.

The -\/\texorpdfstring{$>$}{>}payload, -\/\texorpdfstring{$>$}{>}tot\+\_\+len and -\/\texorpdfstring{$>$}{>}len fields are adjusted.


\begin{DoxyParams}{Parameters}
{\em p} & pbuf to change the header size. \\
\hline
{\em header\+\_\+size\+\_\+increment} & Number of bytes to increment header size which increases the size of the pbuf. New space is on the front. If header\+\_\+size\+\_\+increment is 0, this function does nothing and returns successful.\\
\hline
\end{DoxyParams}
PBUF\+\_\+\+ROM and PBUF\+\_\+\+REF type buffers cannot have their sizes increased, so the call will fail. A check is made that the increase in header size does not move the payload pointer in front of the start of the buffer.

\begin{DoxyReturn}{Returns}
non-\/zero on failure, zero on success. 
\end{DoxyReturn}
\mbox{\Hypertarget{pbuf_8h_ad4ef8c5fbbd1447db04f8f73923e7dee}\label{pbuf_8h_ad4ef8c5fbbd1447db04f8f73923e7dee}} 
\index{pbuf.h@{pbuf.h}!pbuf\_add\_header\_force@{pbuf\_add\_header\_force}}
\index{pbuf\_add\_header\_force@{pbuf\_add\_header\_force}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{pbuf\_add\_header\_force()}{pbuf\_add\_header\_force()}}
{\footnotesize\ttfamily u8\+\_\+t pbuf\+\_\+add\+\_\+header\+\_\+force (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$}]{p,  }\item[{size\+\_\+t}]{header\+\_\+size\+\_\+increment }\end{DoxyParamCaption})}

Same as \mbox{\hyperlink{pbuf_8c_a32dc14bd88dcafa25e627ab18e801815}{pbuf\+\_\+add\+\_\+header}} but does not check if \textquotesingle{}header\+\_\+size \texorpdfstring{$>$}{>} 0\textquotesingle{} is allowed. This is used internally only, to allow PBUF\+\_\+\+REF for RX. \mbox{\Hypertarget{pbuf_8h_a5df7ac5ae59012fe9aeddba375a72190}\label{pbuf_8h_a5df7ac5ae59012fe9aeddba375a72190}} 
\index{pbuf.h@{pbuf.h}!pbuf\_clen@{pbuf\_clen}}
\index{pbuf\_clen@{pbuf\_clen}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{pbuf\_clen()}{pbuf\_clen()}}
{\footnotesize\ttfamily u16\+\_\+t pbuf\+\_\+clen (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$}]{p }\end{DoxyParamCaption})}

Count number of pbufs in a chain


\begin{DoxyParams}{Parameters}
{\em p} & first pbuf of chain \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of pbufs in a chain 
\end{DoxyReturn}
\mbox{\Hypertarget{pbuf_8h_ace8aac12c3ebe16262c2202bd5eb02ab}\label{pbuf_8h_ace8aac12c3ebe16262c2202bd5eb02ab}} 
\index{pbuf.h@{pbuf.h}!pbuf\_dechain@{pbuf\_dechain}}
\index{pbuf\_dechain@{pbuf\_dechain}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{pbuf\_dechain()}{pbuf\_dechain()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$ pbuf\+\_\+dechain (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$}]{p }\end{DoxyParamCaption})}

Dechains the first pbuf from its succeeding pbufs in the chain.

Makes p-\/\texorpdfstring{$>$}{>}tot\+\_\+len field equal to p-\/\texorpdfstring{$>$}{>}len. 
\begin{DoxyParams}{Parameters}
{\em p} & pbuf to dechain \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
remainder of the pbuf chain, or NULL if it was de-\/allocated. 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
May not be called on a packet queue. 
\end{DoxyNote}
\mbox{\Hypertarget{pbuf_8h_ab0a834127db093fcb6ffc48d966de318}\label{pbuf_8h_ab0a834127db093fcb6ffc48d966de318}} 
\index{pbuf.h@{pbuf.h}!pbuf\_free\_header@{pbuf\_free\_header}}
\index{pbuf\_free\_header@{pbuf\_free\_header}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{pbuf\_free\_header()}{pbuf\_free\_header()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$ pbuf\+\_\+free\+\_\+header (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$}]{q,  }\item[{u16\+\_\+t}]{size }\end{DoxyParamCaption})}

Similar to pbuf\+\_\+header(-\/size) but de-\/refs header pbufs for (size \texorpdfstring{$>$}{>}= p-\/\texorpdfstring{$>$}{>}len)


\begin{DoxyParams}{Parameters}
{\em q} & pbufs to operate on \\
\hline
{\em size} & The number of bytes to remove from the beginning of the pbuf list. While size \texorpdfstring{$>$}{>}= p-\/\texorpdfstring{$>$}{>}len, pbufs are freed. ATTENTION\+: this is the opposite direction as \mbox{\hyperlink{pbuf_8c_a0f81deff4a0e6e8e0ff161a7b9871449}{pbuf\+\_\+header}}, but takes an u16\+\_\+t not s16\+\_\+t! \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the new head pbuf 
\end{DoxyReturn}
\mbox{\Hypertarget{pbuf_8h_aaa17c1951cf2d207b6adfd3947d91f00}\label{pbuf_8h_aaa17c1951cf2d207b6adfd3947d91f00}} 
\index{pbuf.h@{pbuf.h}!pbuf\_header@{pbuf\_header}}
\index{pbuf\_header@{pbuf\_header}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{pbuf\_header()}{pbuf\_header()}}
{\footnotesize\ttfamily u8\+\_\+t pbuf\+\_\+header (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$}]{p,  }\item[{s16\+\_\+t}]{header\+\_\+size\+\_\+increment }\end{DoxyParamCaption})}

Adjusts the payload pointer to hide or reveal headers in the payload.

Adjusts the -\/\texorpdfstring{$>$}{>}payload pointer so that space for a header (dis)appears in the pbuf payload.

The -\/\texorpdfstring{$>$}{>}payload, -\/\texorpdfstring{$>$}{>}tot\+\_\+len and -\/\texorpdfstring{$>$}{>}len fields are adjusted.


\begin{DoxyParams}{Parameters}
{\em p} & pbuf to change the header size. \\
\hline
{\em header\+\_\+size\+\_\+increment} & Number of bytes to increment header size which increases the size of the pbuf. New space is on the front. (Using a negative value decreases the header size.) If header\+\_\+size\+\_\+increment is 0, this function does nothing and returns successful.\\
\hline
\end{DoxyParams}
PBUF\+\_\+\+ROM and PBUF\+\_\+\+REF type buffers cannot have their sizes increased, so the call will fail. A check is made that the increase in header size does not move the payload pointer in front of the start of the buffer. \begin{DoxyReturn}{Returns}
non-\/zero on failure, zero on success. 
\end{DoxyReturn}
\mbox{\Hypertarget{pbuf_8h_a27480c41c34021d4417691d327163626}\label{pbuf_8h_a27480c41c34021d4417691d327163626}} 
\index{pbuf.h@{pbuf.h}!pbuf\_header\_force@{pbuf\_header\_force}}
\index{pbuf\_header\_force@{pbuf\_header\_force}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{pbuf\_header\_force()}{pbuf\_header\_force()}}
{\footnotesize\ttfamily u8\+\_\+t pbuf\+\_\+header\+\_\+force (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$}]{p,  }\item[{s16\+\_\+t}]{header\+\_\+size\+\_\+increment }\end{DoxyParamCaption})}

Same as pbuf\+\_\+header but does not check if \textquotesingle{}header\+\_\+size \texorpdfstring{$>$}{>} 0\textquotesingle{} is allowed. This is used internally only, to allow PBUF\+\_\+\+REF for RX. \mbox{\Hypertarget{pbuf_8h_ab65da7cd8f7449b3b2e57d7fa1a74ef4}\label{pbuf_8h_ab65da7cd8f7449b3b2e57d7fa1a74ef4}} 
\index{pbuf.h@{pbuf.h}!pbuf\_remove\_header@{pbuf\_remove\_header}}
\index{pbuf\_remove\_header@{pbuf\_remove\_header}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{pbuf\_remove\_header()}{pbuf\_remove\_header()}}
{\footnotesize\ttfamily u8\+\_\+t pbuf\+\_\+remove\+\_\+header (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$}]{p,  }\item[{size\+\_\+t}]{header\+\_\+size\+\_\+decrement }\end{DoxyParamCaption})}

Adjusts the payload pointer to hide headers in the payload.

Adjusts the -\/\texorpdfstring{$>$}{>}payload pointer so that space for a header disappears in the pbuf payload.

The -\/\texorpdfstring{$>$}{>}payload, -\/\texorpdfstring{$>$}{>}tot\+\_\+len and -\/\texorpdfstring{$>$}{>}len fields are adjusted.


\begin{DoxyParams}{Parameters}
{\em p} & pbuf to change the header size. \\
\hline
{\em header\+\_\+size\+\_\+decrement} & Number of bytes to decrement header size which decreases the size of the pbuf. If header\+\_\+size\+\_\+decrement is 0, this function does nothing and returns successful. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
non-\/zero on failure, zero on success. 
\end{DoxyReturn}
\mbox{\Hypertarget{pbuf_8h_a9ba3f7b705309ceadb147692fd5a1c7d}\label{pbuf_8h_a9ba3f7b705309ceadb147692fd5a1c7d}} 
\index{pbuf.h@{pbuf.h}!pbuf\_strstr@{pbuf\_strstr}}
\index{pbuf\_strstr@{pbuf\_strstr}!pbuf.h@{pbuf.h}}
\doxysubsubsection{\texorpdfstring{pbuf\_strstr()}{pbuf\_strstr()}}
{\footnotesize\ttfamily u16\+\_\+t pbuf\+\_\+strstr (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$}]{p,  }\item[{const char $\ast$}]{substr }\end{DoxyParamCaption})}

Find occurrence of substr with length substr\+\_\+len in pbuf p, start at offset start\+\_\+offset WARNING\+: in contrast to strstr(), this one does not stop at the first \textbackslash{}0 in the pbuf/source string!


\begin{DoxyParams}{Parameters}
{\em p} & pbuf to search, maximum length is 0x\+FFFE since 0x\+FFFF is used as return value \textquotesingle{}not found\textquotesingle{} \\
\hline
{\em substr} & string to search for in p, maximum length is 0x\+FFFE \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0x\+FFFF if substr was not found in p or the index where it was found 
\end{DoxyReturn}
