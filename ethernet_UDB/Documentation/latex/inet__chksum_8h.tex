\hypertarget{inet__chksum_8h}{}\doxysection{C\+:/\+Users/\+User\+\_\+4/\+STM32\+Cube\+IDE/workspace\+\_\+1.10.1/ethernet\+\_\+\+UDB/\+Middlewares/\+Third\+\_\+\+Party/\+Lw\+IP/src/include/lwip/inet\+\_\+chksum.h File Reference}
\label{inet__chksum_8h}\index{C:/Users/User\_4/STM32CubeIDE/workspace\_1.10.1/ethernet\_UDB/Middlewares/Third\_Party/LwIP/src/include/lwip/inet\_chksum.h@{C:/Users/User\_4/STM32CubeIDE/workspace\_1.10.1/ethernet\_UDB/Middlewares/Third\_Party/LwIP/src/include/lwip/inet\_chksum.h}}
{\ttfamily \#include \char`\"{}lwip/opt.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}lwip/pbuf.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}lwip/ip\+\_\+addr.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{inet__chksum_8h_a0196bd603262882d16b5264b52eafe18}{SWAP\+\_\+\+BYTES\+\_\+\+IN\+\_\+\+WORD}}(w)~(((w) \& 0xff) $<$$<$ 8) $\vert$ (((w) \& 0xff00) $>$$>$ 8)
\item 
\#define \mbox{\hyperlink{inet__chksum_8h_a6ffe83b4bdd1784a0671ee4778966a01}{FOLD\+\_\+\+U32T}}(u)~((u32\+\_\+t)(((u) $>$$>$ 16) + ((u) \& 0x0000ffff\+UL)))
\item 
\mbox{\Hypertarget{inet__chksum_8h_a8b8abbe02c3da468346b45f3d5a356a3}\label{inet__chksum_8h_a8b8abbe02c3da468346b45f3d5a356a3}} 
\#define {\bfseries LWIP\+\_\+\+CHKSUM\+\_\+\+COPY\+\_\+\+ALGORITHM}~0
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{inet__chksum_8h_a34f1aa1587562a09e11b704b51bab043}\label{inet__chksum_8h_a34f1aa1587562a09e11b704b51bab043}} 
u16\+\_\+t {\bfseries inet\+\_\+chksum} (const void $\ast$dataptr, u16\+\_\+t len)
\item 
u16\+\_\+t \mbox{\hyperlink{inet__chksum_8h_ab35967a50418358e194e8f80fdc3c865}{inet\+\_\+chksum\+\_\+pbuf}} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p)
\item 
\mbox{\Hypertarget{inet__chksum_8h_aa13cda42e7c262f5dee243ff6c28422f}\label{inet__chksum_8h_aa13cda42e7c262f5dee243ff6c28422f}} 
u16\+\_\+t {\bfseries ip\+\_\+chksum\+\_\+pseudo} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p, u8\+\_\+t proto, u16\+\_\+t proto\+\_\+len, const ip\+\_\+addr\+\_\+t $\ast$src, const ip\+\_\+addr\+\_\+t $\ast$dest)
\item 
\mbox{\Hypertarget{inet__chksum_8h_acfe7ab6c63ef998210c66bb4822b03b2}\label{inet__chksum_8h_acfe7ab6c63ef998210c66bb4822b03b2}} 
u16\+\_\+t {\bfseries ip\+\_\+chksum\+\_\+pseudo\+\_\+partial} (struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$p, u8\+\_\+t proto, u16\+\_\+t proto\+\_\+len, u16\+\_\+t chksum\+\_\+len, const ip\+\_\+addr\+\_\+t $\ast$src, const ip\+\_\+addr\+\_\+t $\ast$dest)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
IP checksum calculation functions 

\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{inet__chksum_8h_a6ffe83b4bdd1784a0671ee4778966a01}\label{inet__chksum_8h_a6ffe83b4bdd1784a0671ee4778966a01}} 
\index{inet\_chksum.h@{inet\_chksum.h}!FOLD\_U32T@{FOLD\_U32T}}
\index{FOLD\_U32T@{FOLD\_U32T}!inet\_chksum.h@{inet\_chksum.h}}
\doxysubsubsection{\texorpdfstring{FOLD\_U32T}{FOLD\_U32T}}
{\footnotesize\ttfamily \#define FOLD\+\_\+\+U32T(\begin{DoxyParamCaption}\item[{}]{u }\end{DoxyParamCaption})~((u32\+\_\+t)(((u) $>$$>$ 16) + ((u) \& 0x0000ffff\+UL)))}

Split an u32\+\_\+t in two u16\+\_\+ts and add them up \mbox{\Hypertarget{inet__chksum_8h_a0196bd603262882d16b5264b52eafe18}\label{inet__chksum_8h_a0196bd603262882d16b5264b52eafe18}} 
\index{inet\_chksum.h@{inet\_chksum.h}!SWAP\_BYTES\_IN\_WORD@{SWAP\_BYTES\_IN\_WORD}}
\index{SWAP\_BYTES\_IN\_WORD@{SWAP\_BYTES\_IN\_WORD}!inet\_chksum.h@{inet\_chksum.h}}
\doxysubsubsection{\texorpdfstring{SWAP\_BYTES\_IN\_WORD}{SWAP\_BYTES\_IN\_WORD}}
{\footnotesize\ttfamily \#define SWAP\+\_\+\+BYTES\+\_\+\+IN\+\_\+\+WORD(\begin{DoxyParamCaption}\item[{}]{w }\end{DoxyParamCaption})~(((w) \& 0xff) $<$$<$ 8) $\vert$ (((w) \& 0xff00) $>$$>$ 8)}

Swap the bytes in an u16\+\_\+t\+: much like lwip\+\_\+htons() for little-\/endian 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{inet__chksum_8h_ab35967a50418358e194e8f80fdc3c865}\label{inet__chksum_8h_ab35967a50418358e194e8f80fdc3c865}} 
\index{inet\_chksum.h@{inet\_chksum.h}!inet\_chksum\_pbuf@{inet\_chksum\_pbuf}}
\index{inet\_chksum\_pbuf@{inet\_chksum\_pbuf}!inet\_chksum.h@{inet\_chksum.h}}
\doxysubsubsection{\texorpdfstring{inet\_chksum\_pbuf()}{inet\_chksum\_pbuf()}}
{\footnotesize\ttfamily u16\+\_\+t inet\+\_\+chksum\+\_\+pbuf (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structpbuf}{pbuf}} $\ast$}]{p }\end{DoxyParamCaption})}

Calculate a checksum over a chain of pbufs (without pseudo-\/header, much like inet\+\_\+chksum only pbufs are used).


\begin{DoxyParams}{Parameters}
{\em p} & pbuf chain over that the checksum should be calculated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
checksum (as u16\+\_\+t) to be saved directly in the protocol header 
\end{DoxyReturn}
